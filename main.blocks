<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="]a`m=j+rU#-b^/jQzXY*">motor_door</variable><variable id="wM/`31AhEs/{73XDTItY">turn_off</variable><variable id="dXU3*cHJvb)x#I,C2|*2">connected</variable><variable id="XcYI0#rX#k+l8hOWp8gz">msg</variable><variable id="xb`-..Z$rplc!QBwJ$,v">last_door_1</variable><variable id="(6674n#,|#XSxp?!6jw~">last_door_2</variable><variable id="t);hx|{fb#1gl0HJd+}9">cmd</variable><variable id="k8)_96#Y48(EO-%u.cKo">p16</variable></variables><block type="pxt-on-start" id="]@-IROoviVq!o[rp$_xH" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="A:TY*w5}UJfbk/[2CQhr" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let turn_off = NaN" numlines="1" declaredvars="turn_off"></mutation><next><block type="typescript_statement" id="y]a^8qHF~v(^eoXc~:zz" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let last_door_1 = NaN" numlines="1" declaredvars="last_door_1"></mutation><next><block type="typescript_statement" id="dBq$e@[(B2EE=$Y-186$" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let last_door_2 = NaN" numlines="1" declaredvars="last_door_2"></mutation><next><block type="variables_set" id="/:GzQi|?h8C9u?=#EOaH"><field name="VAR" id="k8)_96#Y48(EO-%u.cKo">p16</field><value name="VALUE"><shadow type="math_number" id="G|]GnH8q4yKZn.?#ODR="><field name="NUM">1023</field></shadow></value><next><block type="typescript_statement" id="VIeHw10pS*gY}qjOMww." editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="forever(function on_forever() {" line1="    let dirty = false" line2="    let now = control.millis()" line3="    if (!isNaN(turn_off) &amp;&amp; now &gt;= turn_off) {" line4="        turn_off = NaN" line5="        motor.motorStopAll()" line6="        basic.showIcon(IconNames.Happy)" line7="    }" line8="    " line9="    let door_1 = pins.digitalReadPin(DigitalPin.P0)" line10="    if (door_1 != last_door_1) {" line11="        dirty = true" line12="        last_door_1 = door_1" line13="        pins.analogWritePin(AnalogPin.P16, (1 - door_1) * 1023)" line14="    }" line15="    " line16="    let door_2 = pins.digitalReadPin(DigitalPin.P1)" line17="    if (door_2 != last_door_2) {" line18="        dirty = true" line19="        last_door_2 = door_2" line20="        pins.analogWritePin(AnalogPin.P15, (1 - door_2) * 1023)" line21="    }" line22="    " line23="    if (dirty) {" line24="        dirty = false" line25="        update()" line26="    }" line27="    " line28="})" numlines="29"></mutation><next><block type="function_call" id="*ncR%5F[nmqLasP)gwT}"><mutation name="init_device" functionid="4|hM4Dw,O~}}Llvbk+=I"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="bluetooth_on_connected" id="?q0~YgZc%CCRm+t%OH7E" x="651" y="20"><statement name="HANDLER"><block type="variables_set" id="yXUTI7tB6nKW=DFR9D$-"><field name="VAR" id="dXU3*cHJvb)x#I,C2|*2">connected</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="B8H@W+H7)W$F#xhK3EF~"><field name="BOOL">TRUE</field></block></value><next><block type="basic_show_icon" id="K||)+V-em)vMAb;t7wxG"><field name="i">IconNames.Yes</field><next><block type="function_call" id="5|Ib=hydo|vF/X~^H2Ca"><mutation name="update" functionid="FvdIA^aJX65v]4b.1`NJ"></mutation></block></next></block></next></block></statement></block><block type="bluetooth_on_data_received" id="|#RZ;qc8~_t1AL}Q4nQX" x="1043" y="20"><value name="delimiters"><shadow type="serial_delimiter_conv" id="qJQP/aW4Yll`)Drv7ubG"><field name="del">Delimiters.SemiColon</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="yeZ^2+r.?2jd_]i?-Kk?"><field name="VAR" id="t);hx|{fb#1gl0HJd+}9">cmd</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bluetooth_uart_read" id="bd~R$Pet/`2*hVe)RFnu"><value name="del"><shadow type="serial_delimiter_conv" id="$H`usjh0u2-GM=nluOKq"><field name="del">Delimiters.SemiColon</field></shadow></value></block></value><next><block type="controls_if" id="12RJVS3zRJM.?s/Gai*u"><mutation elseif="4"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="e=j$c?I/3B+bk(9lQv?S"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Xnu`Oy8X;Kn7@{d^KZY4"><field name="VAR" id="t);hx|{fb#1gl0HJd+}9">cmd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="@OI]F(!I_4,c~|+GQr6m"><field name="TEXT">?</field></block></value></block></value><statement name="DO0"><block type="function_call" id="dRO[rpR13~3n{H4,Viwp"><mutation name="update" functionid="FvdIA^aJX65v]4b.1`NJ"></mutation><next><block type="typescript_statement" id="79KX9O3?sVfaZ*gM^]h^" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></next></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="z$L(u;7]!Oim0DI8n/;M"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=".VHz#)C-gCGyiG6-$f3q"><field name="VAR" id="t);hx|{fb#1gl0HJd+}9">cmd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="[RfJ=AfO7*G4izy?e2,j"><field name="TEXT">op 1</field></block></value></block></value><statement name="DO1"><block type="function_call" id="(0-?Vl[V@(4fka7Q$}MN"><mutation name="open_door" functionid="9%Uj/6$:mIMdD*RRP0Q("><arg name="x" id="4g74ulxvwt0hd0ag37x" type="number"></arg></mutation><value name="4g74ulxvwt0hd0ag37x"><shadow type="math_number" id="}#l)3+K1|bMb4J#kvU,A"><field name="NUM">1</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="HAMb3gK+bHf3Ly9FqZpz"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="6rD4%1Urx.kxD}mG}Bon"><field name="VAR" id="t);hx|{fb#1gl0HJd+}9">cmd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="5q1`ihDpF*?Rv1xf5wqI"><field name="TEXT">op 2</field></block></value></block></value><statement name="DO2"><block type="function_call" id="In|9|z6~1OwcoL@ru/c~"><mutation name="open_door" functionid="9%Uj/6$:mIMdD*RRP0Q("><arg name="x" id="4g74ulxvwt0hd0ag37x" type="number"></arg></mutation><value name="4g74ulxvwt0hd0ag37x"><shadow type="math_number" id="/4tup*gj|/FESVhnGQ`t"><field name="NUM">2</field></shadow></value></block></statement><value name="IF3"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="@:Me=P!(FiW!ATmiaytq"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="8lt@IVm~LBXu#aKi}e|O"><field name="VAR" id="t);hx|{fb#1gl0HJd+}9">cmd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="QU4K(P:@1l/Nn#C2+?s2"><field name="TEXT">op 3</field></block></value></block></value><statement name="DO3"><block type="function_call" id="rhz:Cq,gx9*^qMS`hAo4"><mutation name="open_door" functionid="9%Uj/6$:mIMdD*RRP0Q("><arg name="x" id="4g74ulxvwt0hd0ag37x" type="number"></arg></mutation><value name="4g74ulxvwt0hd0ag37x"><shadow type="math_number" id="bMgI`*,rC@bG_E|ZM^B~"><field name="NUM">3</field></shadow></value></block></statement><value name="IF4"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="e+giat)739TlE.qF=%EO"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="5]hkr|![.mC`6|~Eq9/A"><field name="VAR" id="t);hx|{fb#1gl0HJd+}9">cmd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="Z==+P4htkpGNm0/wFD0)"><field name="TEXT">op 4</field></block></value></block></value><statement name="DO4"><block type="function_call" id="/8,H5nc4Z:6+jEENrYJU"><mutation name="open_door" functionid="9%Uj/6$:mIMdD*RRP0Q("><arg name="x" id="4g74ulxvwt0hd0ag37x" type="number"></arg></mutation><value name="4g74ulxvwt0hd0ag37x"><shadow type="math_number" id="22C/@c/.0X$OqQ#Urnt]"><field name="NUM">4</field></shadow></value></block></statement></block></next></block></statement></block><block type="bluetooth_on_disconnected" id="L2mm$^5;nNCe%`V^fLjZ" x="1516" y="20"><statement name="HANDLER"><block type="variables_set" id="bgk;,o[5Nr85:8ShPsfI"><field name="VAR" id="dXU3*cHJvb)x#I,C2|*2">connected</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="{WS2yVWWR(RZi?c:LciY"><field name="BOOL">FALSE</field></block></value><next><block type="basic_show_icon" id="k1A_g$TuqnPOi![ZEmcf"><field name="i">IconNames.No</field></block></next></block></statement></block><block type="function_definition" id="!-e|_6qFqK3Da;A:7nY`" x="1916" y="20"><mutation name="init_device" functionid="4|hM4Dw,O~}}Llvbk+=I"></mutation><field name="function_name">init_device</field><statement name="STACK"><block type="bluetooth_start_uart_service" id="ypORaTx))8]7=Wo$h|{7"><next><block type="basic_show_icon" id="em-}]yg??aJ9]g[BNNy/"><field name="i">IconNames.Happy</field></block></next></block></statement></block><block type="function_definition" id="3zqN9)g;(Qt)QEi.iy71" x="2194" y="20"><mutation name="open_door" functionid="9%Uj/6$:mIMdD*RRP0Q("><arg name="x" id="4g74ulxvwt0hd0ag37x" type="number"></arg></mutation><field name="function_name">open_door</field><value name="4g74ulxvwt0hd0ag37x"><shadow type="argument_reporter_number" id="m+QuB0CWw]psO0[ez[Zm"><field name="VALUE">x</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="0r!)eVI$;.f|AVBy=fAz" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let motor_door = NaN" numlines="1" declaredvars="motor_door"></mutation><next><block type="controls_if" id="~TTxj3Z(hE~!sl,?{ctH"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="V84WBKOQ#hlue8my{)ho"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="mxP/+6Rpz*^kXWUb*=b#"><field name="VALUE">x</field></block></value><value name="B"><shadow type="math_number" id="gX1f4V%GoVut?y{6YKQK"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="typescript_statement" id="/Vj|hsBx=`Ttx*3}@9~q" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="motor_door = motor.Motors.M1" numlines="1"></mutation></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="00`k8V5zH3T@pjw2kje!"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="l^1l?mauDOh%w|*wbwe~"><field name="VALUE">x</field></block></value><value name="B"><shadow type="math_number" id="xT(:Fp08^#K~1EO/i;JA"><field name="NUM">2</field></shadow></value></block></value><statement name="DO1"><block type="typescript_statement" id="REy@]8M=pIJra+bwB#)B" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="motor_door = motor.Motors.M2" numlines="1"></mutation></block></statement><value name="IF2"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="jy#z#+CwMOI9#7Js)FVd"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="QBgK[ox4o*8myVe_;EJ%"><field name="VALUE">x</field></block></value><value name="B"><shadow type="math_number" id="f^pOHnnox_IB~tPb$#UU"><field name="NUM">3</field></shadow></value></block></value><statement name="DO2"><block type="typescript_statement" id="p55=9]fly}4g-6?8g9MF" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="motor_door = motor.Motors.M3" numlines="1"></mutation></block></statement><value name="IF3"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="}SIq!;wz|u1{NbOp_!Fr"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="(z{31cuW.NMMM|eU@=T."><field name="VALUE">x</field></block></value><value name="B"><shadow type="math_number" id="t7nKTi!!8c3no0O=c4e]"><field name="NUM">4</field></shadow></value></block></value><statement name="DO3"><block type="typescript_statement" id="$KIh##bjU4A2PCo,e34D" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="motor_door = motor.Motors.M4" numlines="1"></mutation></block></statement><next><block type="controls_if" id="Wkdf[3m.2)g4F5dK.B$)"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="CMb?n9g4$28_vXOc@h4X"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="N6!ZE:,E$kVMlqLY,t.}"><field name="VAR" id="]a`m=j+rU#-b^/jQzXY*">motor_door</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="_$b+SYR,$r1ZRT/}Jd`T" editable="false"><field name="EXPRESSION">NaN</field></block></value></block></value><statement name="DO0"><block type="device_show_number" id="Vd$^f0;CCK#O;UuNY6|R"><value name="number"><block type="variables_get" id=",Xo?a{]BESJUdGevrIui"><field name="VAR" id="]a`m=j+rU#-b^/jQzXY*">motor_door</field></block></value><next><block type="typescript_statement" id="]!`ZXNji{al?J+(53-us" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="motor.MotorRun(motor_door, motor.Dir.CW, 255)" numlines="1"></mutation><next><block type="variables_set" id="(J#U5~c_L.e(T_sM/pR)"><field name="VAR" id="wM/`31AhEs/{73XDTItY">turn_off</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="aUH+_V@-l/irNV^-{oYg"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="control_running_time" id="[az#:+aJ2nk9sW;?1cGq"></block></value><value name="B"><shadow type="math_number" id="Fh4.2nUWVxgEi;:sF#k#"><field name="NUM">800</field></shadow></value></block></value></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type="function_definition" id="2EJ,[q-mpJO@Nwb1L(*6" x="20" y="1553"><mutation name="update" functionid="FvdIA^aJX65v]4b.1`NJ"></mutation><field name="function_name">update</field><statement name="STACK"><block type="controls_if" id="w4n,*;#:%8:ZxM4/TLJa"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="EJL~em+MvLE0Aqi6XWIB"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="#UD~KF-N3|z/mhvp{$/$"><field name="VAR" id="dXU3*cHJvb)x#I,C2|*2">connected</field></block></value></block></value><statement name="DO0"><block type="function_return" id="(M;(yO*M5gG:L_ugEk_?"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="true"></mutation></block></statement><next><block type="device_print_message" id="R*#Elx?1A-,,5WC,f+ox"><value name="text"><shadow type="text" id="W%{8*!RjXcqm*IK_4+e%"><field name="TEXT">U</field></shadow></value><next><block type="variables_set" id="pr}AY~#i/E5nb|76[kOP"><field name="VAR" id="XcYI0#rX#k+l8hOWp8gz">msg</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="v:5FmNl;,*b~kRqjR.%w" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="device_temperature" id="ua3bKR*w9)yI2X)Ux23j"></block></value><value name="ADD1"><shadow type="text" id="atV$gjJ5R7{FVK7@/P]P"><field name="TEXT">:</field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="xLQ-gk?tfLMprq(pD24I"><field name="VAR" id="xb`-..Z$rplc!QBwJ$,v">last_door_1</field></block></value><value name="ADD3"><shadow type="text" id="l52TP29exKl#B7npe$*}"><field name="TEXT">:</field></shadow></value><value name="ADD4"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="9X]kd0lT8UYt1;_5:dU%"><field name="VAR" id="(6674n#,|#XSxp?!6jw~">last_door_2</field></block></value></block></value><next><block type="bluetooth_uart_write" id="rJ8KZv*x3)WB7(t5Hw1r"><value name="data"><block type="variables_get" id="7e167NmdzyB`81@~l6JG"><field name="VAR" id="XcYI0#rX#k+l8hOWp8gz">msg</field></block></value></block></next></block></next></block></next></block></statement></block></xml>